# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è / Used Design Patterns

---

## 1. –ö–æ–º–∞–Ω–¥–∞ (Command) 

**–ü–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω (Behavioral Pattern)**

**–ü—Ä–∏—á–∏–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è :**  
–î–æ–∑–≤–æ–ª—è—î —ñ–Ω–∫–∞–ø—Å—É–ª—é–≤–∞—Ç–∏ –∫–æ–∂–Ω—É –∫–æ–º–∞–Ω–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —è–∫ –æ–∫—Ä–µ–º–∏–π –æ–±‚Äô—î–∫—Ç. –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ó—Ö–Ω—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –æ—Å–Ω–æ–≤–Ω—É –ª–æ–≥—ñ–∫—É –±–æ—Ç–∞.

**–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å :**  
–ü–∞—Ç–µ—Ä–Ω Command —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –∑–∞–ø–∏—Ç —è–∫ –æ–±'—î–∫—Ç, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–≤–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏, —Å—Ç–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏ –≤ —á–µ—Ä–≥—É —á–∏ –∂—É—Ä–Ω–∞–ª, –∞ —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤—ñ–¥–º—ñ–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ–π.

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –∑ –ø—Ä–æ–µ–∫—Ç—É :**
```python
# base.py
class BotCommand(ABC):
    @abstractmethod
    def execute(self, text, chat_id, user_id):
        pass

# commands/dice.py
class DiceCommand(BotCommand):
    def __init__(self):
        self.strategy = DiceStrategy()

    def execute(self, text, chat_id, user_id):
        return self.strategy.handle(text, chat_id, user_id)
```

---

## 2. –°—Ç—Ä–∞—Ç–µ–≥—ñ—è (Strategy)

**–ü–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω (Behavioral Pattern)**

**–ü—Ä–∏—á–∏–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è :**  
–†–æ–∑–¥—ñ–ª—è—î –∫–æ–º–∞–Ω–¥—É —ñ —ó—ó –∞–ª–≥–æ—Ä–∏—Ç–º (—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é). –î–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å–ø–æ—Å—ñ–± –æ–±—Ä–æ–±–∫–∏ –∫–æ–º–∞–Ω–¥ –±–µ–∑ –∑–º—ñ–Ω–∏ –∫–æ–¥—É —Å–∞–º–∏—Ö –∫–æ–º–∞–Ω–¥.

**–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å :**  
–ü–∞—Ç–µ—Ä–Ω Strategy –≤–∏–∑–Ω–∞—á–∞—î —Å—ñ–º–µ–π—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤, —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –∫–æ–∂–µ–Ω –∑ –Ω–∏—Ö —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î —ó—Ö –≤–∑–∞—î–º–æ–∑–∞–º—ñ–Ω–Ω—ñ—Å—Ç—å.

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –∑ –ø—Ä–æ–µ–∫—Ç—É :**
```python
# base.py
class CommandStrategy(ABC):
    @abstractmethod
    def handle(self, text, chat_id, user_id):
        pass

# commands/dice.py
class DiceStrategy(CommandStrategy):
    def handle(self, text, chat_id, user_id):
        return f"üé≤ You rolled: {random.randint(1, 6)}"
```

---

## 3. –û–¥–∏–Ω–∞–∫ (Singleton) 

**–¢–≤—ñ—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω (Creational Pattern)**

**–ü—Ä–∏—á–∏–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è :**  
–ó–∞–±–µ–∑–ø–µ—á—É—î —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –æ–¥–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–æ—Ç–∞ TelegramBot —É –≤—Å—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ, —É–Ω–∏–∫–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è state —ñ –¥—É–±–ª—é—é—á–∏—Ö –ø—ñ–¥–∫–ª—é—á–µ–Ω—å.

**–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å :**  
–ü–∞—Ç–µ—Ä–Ω Singleton –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–ª–∞—Å –º–∞—î –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä, —ñ –Ω–∞–¥–∞—î –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ —Ü—å–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –∑ –ø—Ä–æ–µ–∫—Ç—É :**
```python
# core.py
class TelegramBot:
    _instance = None

    def __new__(cls, token):
        if not cls._instance:
            cls._instance = super().__new__(cls)
        return cls._instance
```

---

## 4. –§–∞–±—Ä–∏–∫–∞ (Factory) 

**–¢–≤—ñ—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω (Creational Pattern)**

**–ü—Ä–∏—á–∏–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è :**  
–ó–∞–±–µ–∑–ø–µ—á—É—î –≥–Ω—É—á–∫–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ–º–∞–Ω–¥ –∑–∞ —ó—Ö —ñ–º–µ–Ω–µ–º. –î–æ–¥–∞—î –ª–µ–≥–∫—É –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å –¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –º–æ–¥—É–ª—ñ–≤.

**–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å :**  
–ü–∞—Ç–µ—Ä–Ω Factory Method –≤–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞, –∞–ª–µ –¥–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–∫–ª–∞—Å–∞–º –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç–∏–ø —Å—Ç–≤–æ—Ä—é–≤–∞–Ω–æ–≥–æ –æ–±‚Äô—î–∫—Ç–∞.

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –∑ –ø—Ä–æ–µ–∫—Ç—É :**
```python
# factories.py
class CommandFactory:
    commands_map = {
        "/help": HelpMenuCommand,
        "/dice": DiceCommand,
        # ...
    }

    @staticmethod
    def create_command(command_name):
        CommandClass = CommandFactory.commands_map.get(command_name)
        if CommandClass:
            return CommandClass()
        return None
```

---

## 5. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä (Decorator) 

**–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω (Structural Pattern)**

**–ü—Ä–∏—á–∏–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è :**  
–î–æ–¥–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (–ª–æ–≥—É–≤–∞–Ω–Ω—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é) –¥–æ –º–µ—Ç–æ–¥—ñ–≤ –æ–±—Ä–æ–±–∫–∏ –∫–æ–º–∞–Ω–¥ –±–µ–∑ –∑–º—ñ–Ω–∏ —ó—Ö–Ω—å–æ–≥–æ –∫–æ–¥—É.

**–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å :**  
–ü–∞—Ç–µ—Ä–Ω Decorator –¥–æ–∑–≤–æ–ª—è—î –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏ –Ω–æ–≤–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏, –æ–±–≥–æ—Ä—Ç–∞—é—á–∏ —ó—Ö —É –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏.

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –∑ –ø—Ä–æ–µ–∫—Ç—É :**
```python
# decorators.py
def log_command(func):
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        text, chat_id, user_id = args[1:4]
        print(f"[LOG] Executing command for user {user_id} in chat {chat_id}: {text}")
        return func(*args, **kwargs)
    return wrapper

# core.py
@log_command
def handle_message(self, text, chat_id, user_id):
    ...
```

---

## 6. –õ–∞–Ω—Ü—é–≥ –æ–±–æ–≤‚Äô—è–∑–∫—ñ–≤ (Chain of Responsibility) 

**–ü–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω (Behavioral Pattern)**

**–ü—Ä–∏—á–∏–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è :**  
–î–æ–∑–≤–æ–ª—è—î –±—É–¥—É–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–≥ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó, —Ü–µ–Ω–∑—É—Ä–∏, –ª–æ–≥—É–≤–∞–Ω–Ω—è —á–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å :**  
–ü–∞—Ç–µ—Ä–Ω Chain of Responsibility –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç –≤–∑–¥–æ–≤–∂ –ª–∞–Ω—Ü—é–≥–∞ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤, –ø–æ–∫–∏ —Ö—Ç–æ—Å—å –Ω–µ –æ–±—Ä–æ–±–∏—Ç—å —Ü–µ–π –∑–∞–ø–∏—Ç.

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –∑ –ø—Ä–æ–µ–∫—Ç—É :**
```python
# handlers.py
class Handler:
    def __init__(self):
        self._next_handler = None

    def set_next(self, handler):
        self._next_handler = handler
        return handler

    def handle(self, text, chat_id, user_id):
        if self._next_handler:
            return self._next_handler.handle(text, chat_id, user_id)
        return None

class CensorshipHandler(Handler):
    def handle(self, text, chat_id, user_id):
        if "badword" in text:
            return "Message blocked due to bad language!"
        return super().handle(text, chat_id, user_id)
```

---

## –ó–∞–≥–∞–ª—å–Ω–∏–π –≤–∏–≥–ª—è–¥ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è 

–£ –ø—Ä–æ–µ–∫—Ç—ñ –∫–æ–∂–µ–Ω –ø–∞—Ç–µ—Ä–Ω:
- –ß—ñ—Ç–∫–æ –≤—ñ–¥–æ–∫—Ä–µ–º–ª–µ–Ω–∏–π —É —Å–≤–æ—î–º—É —Ñ–∞–π–ª—ñ —Ç–∞ –º—ñ—Å—Ü—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏.
- –ú–∞—î –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è–º –ø–∞—Ç–µ—Ä–Ω–∞.
- –î–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä–µ–∞–ª—å–Ω—É –∫–æ—Ä–∏—Å—Ç—å –¥–ª—è –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è, –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏.
